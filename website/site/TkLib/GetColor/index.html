<!DOCTYPE html>
<html lang="en">
    <head>
      <script>
	// Hack for scrolling window when linking to anchor tag with fixed nav header
        var shiftWindow = function() { scrollBy(0, -75) };
        window.addEventListener("hashchange", shiftWindow);
        function load() { if (window.location.hash) shiftWindow(); }
      </script>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://www.tcl.tk/man/TkLib/GetColor/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>GetColor - Tcl/Tk</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link href="../../css/font-awesome.min.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script src="../../js/base.js"></script> 
    </head>

    <body class="">

      <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
	<div class="container">
	<a class="navbar-brand" href="../..">Tcl/Tk</a>
	<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample04" aria-controls="navbarsExample04" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
	</button>

	<div class="collapse navbar-collapse">

          <ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex">
            <li class="nav-item">
              <a class="nav-link" href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
		<i class="fa fa-search"></i> Search
              </a>
            </li>
          </ul>
	</div>
	</div>
      </nav><div id="content" class="container">
        
      <div class="row">
        <div class="col-md-9" role="main">


<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    
    <li class="breadcrumb-item active" aria-current="page">GetColor</li>
  </ol>
</nav>


<p>\</p>
<h1 id="name">NAME</h1>
<p>Tk_AllocColorFromObj, Tk_GetColor, Tk_GetColorFromObj,
Tk_GetColorByValue, Tk_NameOfColor, Tk_FreeColorFromObj, Tk_FreeColor -
maintain database of colors</p>
<h1 id="synopsis">SYNOPSIS</h1>
<p><strong>#include \&lt;tk.h></strong></p>
<p>XColor * <strong>Tk_AllocColorFromObj(</strong><em>interp, tkwin, objPtr</em><strong>)</strong></p>
<p>XColor * <strong>Tk_GetColor(</strong><em>interp, tkwin, name</em><strong>)</strong></p>
<p>XColor * <strong>Tk_GetColorFromObj(</strong><em>tkwin, objPtr</em><strong>)</strong></p>
<p>XColor * <strong>Tk_GetColorByValue(</strong><em>tkwin, prefPtr</em><strong>)</strong></p>
<p>const char * <strong>Tk_NameOfColor(</strong><em>colorPtr</em><strong>)</strong></p>
<p>GC <strong>Tk_GCForColor(</strong><em>colorPtr, drawable</em><strong>)</strong></p>
<p><strong>Tk_FreeColorFromObj(</strong><em>tkwin, objPtr</em><strong>)</strong></p>
<p><strong>Tk_FreeColor(</strong><em>colorPtr</em><strong>)</strong></p>
<h1 id="arguments">ARGUMENTS</h1>
<p>Interpreter to use for error reporting.</p>
<p>Token for window in which color will be used.</p>
<p>String value describes desired color; internal rep will be modified to
cache pointer to corresponding (XColor *).</p>
<p>Same as <em>objPtr</em> except description of color is passed as a string and
resulting (XColor *) is not cached.</p>
<p>Indicates red, green, and blue intensities of desired color.</p>
<p>Pointer to X color information. Must have been allocated by previous
call to <strong>Tk_AllocColorFromObj</strong>, <strong>Tk_GetColor</strong> or
<strong>Tk_GetColorByValue</strong>, except when passed to <strong>Tk_NameOfColor</strong>.</p>
<p>Drawable in which the result graphics context will be used. Must have
same screen and depth as the window for which the color was allocated.</p>
<p>\</p>
<h1 id="description">DESCRIPTION</h1>
<p>These procedures manage the colors being used by a Tk application. They
allow colors to be shared whenever possible, so that colormap space is
preserved, and they pick closest available colors when colormap space is
exhausted.</p>
<p>Given a textual description of a color, <strong>Tk_AllocColorFromObj</strong> locates
a pixel value that may be used to render the color in a particular
window. The desired color is specified with a value whose string value
must have one of the following forms:</p>
<p><em>colorname</em></p>
<p>:   Any of the valid textual names for a color defined in the server\'s
    color database file, such as <strong>red</strong> or <strong>PeachPuff</strong>.</p>
<p><strong>#</strong><em>RGB</em></p>
<p>:   </p>
<p><strong>#</strong><em>RRGGBB</em></p>
<p>:   </p>
<p><strong>#</strong><em>RRRGGGBBB</em></p>
<p>:   </p>
<p><strong>#</strong><em>RRRRGGGGBBBB</em></p>
<p>:   A numeric specification of the red, green, and blue intensities to
    use to display the color. Each <em>R</em>, <em>G</em>, or <em>B</em> represents a single
    hexadecimal digit. The four forms permit colors to be specified with
    4-bit, 8-bit, 12-bit or 16-bit values. When fewer than 16 bits are
    provided for each color, they represent the most significant bits of
    the color, while the lower unfilled bits will be repeatedly
    replicated from the available higher bits. For example, #3a7 is the
    same as #3333aaaa7777.</p>
<p><strong>Tk_AllocColorFromObj</strong> returns a pointer to an XColor structure; the
structure indicates the exact intensities of the allocated color (which
may differ slightly from those requested, depending on the limitations
of the screen) and a pixel value that may be used to draw with the color
in <em>tkwin</em>. If an error occurs in <strong>Tk_AllocColorFromObj</strong> (such as an
unknown color name) then NULL is returned and an error message is stored
in <em>interp</em>\'s result if <em>interp</em> is not NULL. If the colormap for
<em>tkwin</em> is full, <strong>Tk_AllocColorFromObj</strong> will use the closest existing
color in the colormap. <strong>Tk_AllocColorFromObj</strong> caches information about
the return value in <em>objPtr</em>, which speeds up future calls to procedures
such as <strong>Tk_AllocColorFromObj</strong> and <strong>Tk_GetColorFromObj</strong>.</p>
<p><strong>Tk_GetColor</strong> is identical to <strong>Tk_AllocColorFromObj</strong> except that the
description of the color is specified with a string instead of a value.
This prevents <strong>Tk_GetColor</strong> from caching the return value, so
<strong>Tk_GetColor</strong> is less efficient than <strong>Tk_AllocColorFromObj</strong>.</p>
<p><strong>Tk_GetColorFromObj</strong> returns the token for an existing color, given
the window and description used to create the color.
<strong>Tk_GetColorFromObj</strong> does not actually create the color; the color
must already have been created with a previous call to
<strong>Tk_AllocColorFromObj</strong> or <strong>Tk_GetColor</strong>. The return value is cached
in <em>objPtr</em>, which speeds up future calls to <strong>Tk_GetColorFromObj</strong> with
the same <em>objPtr</em> and <em>tkwin</em>.</p>
<p><strong>Tk_GetColorByValue</strong> is similar to <strong>Tk_GetColor</strong> except that the
desired color is indicated with the <em>red</em>, <em>green</em>, and <em>blue</em> fields of
the structure pointed to by <em>colorPtr</em>.</p>
<p>This package maintains a database of all the colors currently in use. If
the same color is requested multiple times from <strong>Tk_GetColor</strong> or
<strong>Tk_AllocColorFromObj</strong> (e.g. by different windows), or if the same
intensities are requested multiple times from <strong>Tk_GetColorByValue</strong>,
then existing pixel values will be re-used. Re-using an existing pixel
avoids any interaction with the window server, which makes the
allocation much more efficient. These procedures also provide a portable
interface that works across all platforms. For this reason, you should
generally use <strong>Tk_AllocColorFromObj</strong>, <strong>Tk_GetColor</strong>, or
<strong>Tk_GetColorByValue</strong> instead of lower level procedures like
<strong>XAllocColor</strong>.</p>
<p>Since different calls to this package may return the same shared pixel
value, callers should never change the color of a pixel returned by the
procedures. If you need to change a color value dynamically, you should
use <strong>XAllocColorCells</strong> to allocate the pixel value for the color.</p>
<p>The procedure <strong>Tk_NameOfColor</strong> is roughly the inverse of
<strong>Tk_GetColor</strong>. If its <em>colorPtr</em> argument was created by
<strong>Tk_AllocColorFromObj</strong> or <strong>Tk_GetColor</strong> then the return value is the
string that was used to create the color. If <em>colorPtr</em> was created by a
call to <strong>Tk_GetColorByValue</strong>, or by any other mechanism, then the
return value is a string that could be passed to <strong>Tk_GetColor</strong> to
return the same color. Note: the string returned by <strong>Tk_NameOfColor</strong>
is only guaranteed to persist until the next call to <strong>Tk_NameOfColor</strong>.</p>
<p><strong>Tk_GCForColor</strong> returns a graphics context whose <strong>foreground</strong> field
is the pixel allocated for <em>colorPtr</em> and whose other fields all have
default values. This provides an easy way to do basic drawing with a
color. The graphics context is cached with the color and will exist only
as long as <em>colorPtr</em> exists; it is freed when the last reference to
<em>colorPtr</em> is freed by calling <strong>Tk_FreeColor</strong>.</p>
<p>When a color is no longer needed <strong>Tk_FreeColorFromObj</strong> or
<strong>Tk_FreeColor</strong> should be called to release it. For
<strong>Tk_FreeColorFromObj</strong> the color to release is specified with the same
information used to create it; for <strong>Tk_FreeColor</strong> the color to release
is specified with a pointer to its XColor structure. There should be
exactly one call to <strong>Tk_FreeColorFromObj</strong> or <strong>Tk_FreeColor</strong> for each
call to <strong>Tk_AllocColorFromObj</strong>, <strong>Tk_GetColor</strong>, or
<strong>Tk_GetColorByValue</strong>.</p>
<h1 id="keywords">KEYWORDS</h1>
<p>color, intensity, value, pixel value</p>

<ul class="metadata page-metadata" data-bi-name="page info" lang="en-us" dir="ltr">
  <li class="last-updated-holder displayDate loading">
    <span class="last-updated-text">Last updated:</span>
    <time role="presentation" datetime="2018-10-25T00:00:00.000Z" data-article-date-source="ms.date"></time>
  </li>
<!--
  <li class="readingTime">
    2 minutes to read
  </li>
-->
  <li class="contributors-holder">
    <span class="contributors-text">Contributors</span>
    <ul class="contributors" data-bi-name="contributors"></ul>
  </li>
</ul>
</div>
        <div class="col-md-3"><div class="navbar-light navbar-expand-md hidden-print sticky-top sticky-offset" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    <div id="toc-collapse" class="navbar-collapse collapse card">
        <ul class="nav flex-column bs-sidenav">
            <li class="nav-item main"><a class="nav-link" href="#name">NAME</a></li>
            <li class="nav-item main"><a class="nav-link" href="#synopsis">SYNOPSIS</a></li>
            <li class="nav-item main"><a class="nav-link" href="#arguments">ARGUMENTS</a></li>
            <li class="nav-item main"><a class="nav-link" href="#description">DESCRIPTION</a></li>
            <li class="nav-item main"><a class="nav-link" href="#keywords">KEYWORDS</a></li>
        </ul>
    </div>
</div></div>
      </div>
      </div>

      <footer class="col-md-12">
	<hr>
	<div class="container">
	</div>
      </footer>
      <script>
	var base_url = "../..",
            shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
      </script>
      <script src="../../js/base.js" defer></script>
      <script src="../../search/main.js" defer></script>

      <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <p class="h4 modal-title">Keyboard Shortcuts</p>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>

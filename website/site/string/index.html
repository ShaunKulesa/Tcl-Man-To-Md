<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://www.tcl.tk/man/tcl8.6.13/TclCmd/contents.html/string/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>NAME - Tcl/Tk</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "NAME";
        var mkdocs_page_input_path = "string.md";
        var mkdocs_page_url = "/man/tcl8.6.13/TclCmd/contents.html/string/";
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Tcl/Tk
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../command.md">Commands</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Tcl/Tk</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
      <li>NAME</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="name">NAME</h1>
<p>string - Manipulate strings</p>
<h1 id="synopsis">SYNOPSIS</h1>
<p><strong>string </strong><em>option arg </em>?<em>arg ...</em>?</p>
<h1 id="description">DESCRIPTION</h1>
<p>Performs one of several string operations, depending on <em>option</em>. The
legal <em>option</em>s (which may be abbreviated) are:</p>
<p><strong>string cat</strong> ?<em>string1</em>? ?<em>string2...</em>?</p>
<p>:   Concatenate the given <em>string</em>s just like placing them directly next
    to each other and return the resulting compound string. If no
    <em>string</em>s are present, the result is an empty string.</p>
<pre><code>This primitive is occasionally handier than juxtaposition of strings
when mixed quoting is wanted, or when the aim is to return the
result of a concatenation without resorting to **return** **-level
0**, and is more efficient than building a list of arguments and
using **join** with an empty join string.
</code></pre>
<p><strong>string compare</strong> ?<strong>-nocase</strong>? ?<strong>-length</strong><em> length</em>? <em>string1 string2</em></p>
<p>:   Perform a character-by-character comparison of strings <em>string1</em> and
    <em>string2</em>. Returns -1, 0, or 1, depending on whether <em>string1</em> is
    lexicographically less than, equal to, or greater than <em>string2</em>. If
    <strong>-length</strong> is specified, then only the first <em>length</em> characters
    are used in the comparison. If <strong>-length</strong> is negative, it is
    ignored. If <strong>-nocase</strong> is specified, then the strings are compared
    in a case-insensitive manner.</p>
<p><strong>string equal</strong> ?<strong>-nocase</strong>? ?<strong>-length</strong><em> length</em>? <em>string1 string2</em></p>
<p>:   Perform a character-by-character comparison of strings <em>string1</em> and
    <em>string2</em>. Returns 1 if <em>string1</em> and <em>string2</em> are identical, or 0
    when not. If <strong>-length</strong> is specified, then only the first <em>length</em>
    characters are used in the comparison. If <strong>-length</strong> is negative,
    it is ignored. If <strong>-nocase</strong> is specified, then the strings are
    compared in a case-insensitive manner.</p>
<p><strong>string first </strong><em>needleString haystackString</em> ?<em>startIndex</em>?</p>
<p>:   Search <em>haystackString</em> for a sequence of characters that exactly
    match the characters in <em>needleString</em>. If found, return the index
    of the first character in the first such match within
    <em>haystackString</em>. If not found, return -1. If <em>startIndex</em> is
    specified (in any of the forms described in <strong>STRING INDICES</strong>),
    then the search is constrained to start with the character in
    <em>haystackString</em> specified by the index. For example,</p>
<pre><code>**string first a 0a23456789abcdef 5**

will return **10**, but

**string first a 0123456789abcdef 11**

will return **-1**.
</code></pre>
<p><strong>string index </strong><em>string charIndex</em></p>
<p>:   Returns the <em>charIndex</em>\'th character of the <em>string</em> argument. A
    <em>charIndex</em> of 0 corresponds to the first character of the string.
    <em>charIndex</em> may be specified as described in the <strong>STRING INDICES</strong>
    section.</p>
<pre><code>If *charIndex* is less than 0 or greater than or equal to the length
of the string then this command returns an empty string.
</code></pre>
<p><strong>string insert </strong><em>string index insertString</em></p>
<p>:   </p>
<p>Returns a copy of <em>string</em> with <em>insertString</em> inserted at the
<em>index</em>\'th character. The <em>index</em> may be specified as described in the
<strong>STRING INDICES</strong> section.</p>
<blockquote>
<p>If <em>index</em> is start-relative, the first character inserted in the
returned string will be at the specified index. If <em>index</em> is
end-relative, the last character inserted in the returned string will
be at the specified index.</p>
<p>If <em>index</em> is at or before the start of <em>string</em> (e.g., <em>index</em> is
<strong>0</strong>), <em>insertString</em> is prepended to <em>string</em>. If <em>index</em> is at or
after the end of <em>string</em> (e.g., <em>index</em> is <strong>end</strong>), <em>insertString</em>
is appended to <em>string</em>.</p>
</blockquote>
<p><strong>string is </strong><em>class</em> ?<strong>-strict</strong>? ?<strong>-failindex </strong><em>varname</em>? <em>string</em></p>
<p>:   Returns 1 if <em>string</em> is a valid member of the specified character
    class, otherwise returns 0. If <strong>-strict</strong> is specified, then an
    empty string returns 0, otherwise an empty string will return 1 on
    any class. If <strong>-failindex</strong> is specified, then if the function
    returns 0, the index in the string where the class was no longer
    valid will be stored in the variable named <em>varname</em>. The <em>varname</em>
    will not be set if <strong>string is</strong> returns 1. The following character
    classes are recognized (the class name can be abbreviated):</p>
<pre><code>alnum

:   Any Unicode alphabet or digit character.

alpha

:   Any Unicode alphabet character.

ascii

:   Any character with a value less than \\u0080 (those that are in
    the 7-bit ascii range).

boolean

:   Any of the forms allowed to **Tcl_GetBoolean**.

control

:   Any Unicode control character.

dict

:

Any proper dict structure, with optional surrounding whitespace. In
case of improper dict structure, 0 is returned and the *varname*
will contain the index of the

where the dict parsing fails, or -1 if this cannot be determined.

digit

:   Any Unicode digit character. Note that this includes characters
    outside of the \[0-9\] range.

double

:   Any of the forms allowed to **Tcl_GetDoubleFromObj**.

entier

:   Any of the valid string formats for an integer value of
    arbitrary size in Tcl, with optional surrounding whitespace. The
    formats accepted are exactly those accepted by the C routine
    **Tcl_GetBignumFromObj**.

false

:   Any of the forms allowed to **Tcl_GetBoolean** where the value
    is false.

graph

:   Any Unicode printing character, except space.

integer

:   Any of the valid string formats for a 32-bit integer value in
    Tcl, with optional surrounding whitespace. In case of overflow
    in the value, 0 is returned and the *varname* will contain -1.

list

:   Any proper list structure, with optional surrounding whitespace.
    In case of improper list structure, 0 is returned and the
    *varname* will contain the index of the

where the list parsing fails, or -1 if this cannot be determined.

lower

:   Any Unicode lower case alphabet character.

print

:   Any Unicode printing character, including space.

punct

:   Any Unicode punctuation character.

space

:   Any Unicode whitespace character, mongolian vowel separator
    (U+180e), zero width space (U+200b), word joiner (U+2060) or
    zero width no-break space (U+feff) (=BOM).

true

:   Any of the forms allowed to **Tcl_GetBoolean** where the value
    is true.

upper

:   Any upper case alphabet character in the Unicode character set.

wideinteger

:   Any of the valid forms for a wide integer in Tcl, with optional
    surrounding whitespace. In case of overflow in the value, 0 is
    returned and the *varname* will contain -1.

wordchar

:   Any Unicode word character. That is any alphanumeric character,
    and any Unicode connector punctuation characters (e.g.
    underscore).

xdigit

:   Any hexadecimal digit character (\[0-9A-Fa-f\]).

In the case of **boolean**, **true** and **false**, if the function
will return 0, then the *varname* will always be set to 0, due to
the varied nature of a valid boolean value.
</code></pre>
<p><strong>string last </strong><em>needleString haystackString</em> ?<em>lastIndex</em>?</p>
<p>:   Search <em>haystackString</em> for a sequence of characters that exactly
    match the characters in <em>needleString</em>. If found, return the index
    of the first character in the last such match within
    <em>haystackString</em>. If there is no match, then return -1. If
    <em>lastIndex</em> is specified (in any of the forms described in <strong>STRING
    INDICES</strong>), then only the characters in <em>haystackString</em> at or
    before the specified <em>lastIndex</em> will be considered by the search.
    For example,</p>
<pre><code>**string last a 0a23456789abcdef 15**

will return **10**, but

**string last a 0a23456789abcdef 9**

will return **1**.
</code></pre>
<p><strong>string length </strong><em>string</em></p>
<p>:   Returns a decimal string giving the number of characters in
    <em>string</em>. Note that this is not necessarily the same as the number
    of bytes used to store the string. If the value is a byte array
    value (such as those returned from reading a binary encoded
    channel), then this will return the actual byte length of the value.</p>
<p><strong>string map</strong> ?<strong>-nocase</strong>? <em>mapping string</em></p>
<p>:   Replaces substrings in <em>string</em> based on the key-value pairs in
    <em>mapping</em>. <em>mapping</em> is a list of <em>key value key value ...</em> as in
    the form returned by <strong>array get</strong>. Each instance of a key in the
    string will be replaced with its corresponding value. If <strong>-nocase</strong>
    is specified, then matching is done without regard to case
    differences. Both <em>key</em> and <em>value</em> may be multiple characters.
    Replacement is done in an ordered manner, so the key appearing first
    in the list will be checked first, and so on. <em>string</em> is only
    iterated over once, so earlier key replacements will have no affect
    for later key matches. For example,</p>
<pre><code>**string map {abc 1 ab 2 a 3 1 0} 1abcaababcabababc**

will return the string **01321221**.

Note that if an earlier *key* is a prefix of a later one, it will
completely mask the later one. So if the previous example is
reordered like this,

**string map {1 0 ab 2 a 3 abc 1} 1abcaababcabababc**

it will return the string **02c322c222c**.
</code></pre>
<p><strong>string match</strong> ?<strong>-nocase</strong>? <em>pattern</em> <em>string</em></p>
<p>:   See if <em>pattern</em> matches <em>string</em>; return 1 if it does, 0 if it does
    not. If <strong>-nocase</strong> is specified, then the pattern attempts to match
    against the string in a case insensitive manner. For the two strings
    to match, their contents must be identical except that the following
    special sequences may appear in <em>pattern</em>:</p>
<pre><code>-   Matches any sequence of characters in *string*, including a null
    string.

?

:   Matches any single character in *string*.

\[chars\]

:   Matches any character in the set given by *chars*. If a sequence
    of the form *x***-***y* appears in *chars*, then any character
    between *x* and *y*, inclusive, will match. When used with
    **-nocase**, the end points of the range are converted to lower
    case first. Whereas {\[A-z\]} matches

when matching case-sensitively (since

falls between the

and

with **-nocase** this is considered like {\[A-Za-z\]} (and probably
what was meant in the first place).

\\x

:   Matches the single character *x*. This provides a way of
    avoiding the special interpretation of the characters
    **\*?\[\]\\** in *pattern*.
</code></pre>
<p><strong>string range </strong><em>string first last</em></p>
<p>:   Returns a range of consecutive characters from <em>string</em>, starting
    with the character whose index is <em>first</em> and ending with the
    character whose index is <em>last</em> (using the forms described in
    <strong>STRING INDICES</strong>). An index of <strong>0</strong> refers to the first character
    of the string; an index of <strong>end</strong> refers to last character of the
    string. <em>first</em> and <em>last</em> may be specified as for the <strong>index</strong>
    method. If <em>first</em> is less than zero then it is treated as if it
    were zero, and if <em>last</em> is greater than or equal to the length of
    the string then it is treated as if it were <strong>end</strong>. If <em>first</em> is
    greater than <em>last</em> then an empty string is returned.</p>
<p><strong>string repeat </strong><em>string count</em></p>
<p>:   Returns a string consisting of <em>string</em> concatenated with itself
    <em>count</em> times. If <em>count</em> is 0, the empty string will be returned.</p>
<p><strong>string replace </strong><em>string first last</em> ?<em>newstring</em>?</p>
<p>:   Removes a range of consecutive characters from <em>string</em>, starting
    with the character whose index is <em>first</em> and ending with the
    character whose index is <em>last</em> (using the forms described in
    <strong>STRING INDICES</strong>). An index of 0 refers to the first character of
    the string. <em>First</em> and <em>last</em> may be specified as for the <strong>index</strong>
    method. If <em>newstring</em> is specified, then it is placed in the
    removed character range. If <em>first</em> is less than zero then it is
    treated as if it were zero, and if <em>last</em> is greater than or equal
    to the length of the string then it is treated as if it were
    <strong>end</strong>. The initial string is returned untouched, if <em>first</em> is
    greater than <em>last</em>, or if <em>first</em> is equal to or greater than the
    length of the initial string, or <em>last</em> is less than 0.</p>
<p><strong>string reverse </strong><em>string</em></p>
<p>:   Returns a string that is the same length as <em>string</em> but with its
    characters in the reverse order.</p>
<p><strong>string tolower </strong><em>string</em> ?<em>first</em>? ?<em>last</em>?</p>
<p>:   Returns a value equal to <em>string</em> except that all upper (or title)
    case letters have been converted to lower case. If <em>first</em> is
    specified, it refers to the first char index in the string to start
    modifying. If <em>last</em> is specified, it refers to the char index in
    the string to stop at (inclusive). <em>first</em> and <em>last</em> may be
    specified using the forms described in <strong>STRING INDICES</strong>.</p>
<p><strong>string totitle </strong><em>string</em> ?<em>first</em>? ?<em>last</em>?</p>
<p>:   Returns a value equal to <em>string</em> except that the first character in
    <em>string</em> is converted to its Unicode title case variant (or upper
    case if there is no title case variant) and the rest of the string
    is converted to lower case. If <em>first</em> is specified, it refers to
    the first char index in the string to start modifying. If <em>last</em> is
    specified, it refers to the char index in the string to stop at
    (inclusive). <em>first</em> and <em>last</em> may be specified using the forms
    described in <strong>STRING INDICES</strong>.</p>
<p><strong>string toupper </strong><em>string</em> ?<em>first</em>? ?<em>last</em>?</p>
<p>:   Returns a value equal to <em>string</em> except that all lower (or title)
    case letters have been converted to upper case. If <em>first</em> is
    specified, it refers to the first char index in the string to start
    modifying. If <em>last</em> is specified, it refers to the char index in
    the string to stop at (inclusive). <em>first</em> and <em>last</em> may be
    specified using the forms described in <strong>STRING INDICES</strong>.</p>
<p><strong>string trim </strong><em>string</em> ?<em>chars</em>?</p>
<p>:   Returns a value equal to <em>string</em> except that any leading or
    trailing characters present in the string given by <em>chars</em> are
    removed. If <em>chars</em> is not specified then white space is removed
    (any character for which <strong>string is space</strong> returns 1, and
    \"\0\").</p>
<p><strong>string trimleft </strong><em>string</em> ?<em>chars</em>?</p>
<p>:   Returns a value equal to <em>string</em> except that any leading characters
    present in the string given by <em>chars</em> are removed. If <em>chars</em> is
    not specified then white space is removed (any character for which
    <strong>string is space</strong> returns 1, and \"\0\").</p>
<p><strong>string trimright </strong><em>string</em> ?<em>chars</em>?</p>
<p>:   Returns a value equal to <em>string</em> except that any trailing
    characters present in the string given by <em>chars</em> are removed. If
    <em>chars</em> is not specified then white space is removed (any character
    for which <strong>string is space</strong> returns 1, and \"\0\").</p>
<h2 id="obsolete-subcommands">OBSOLETE SUBCOMMANDS</h2>
<p>These subcommands are currently supported, but are likely to go away in
a future release as their functionality is either virtually never used
or highly misleading.</p>
<blockquote>
<p><strong>string length</strong> [encoding convertto utf-8 \$theString]</p>
</blockquote>
<p><strong>string wordend </strong><em>string charIndex</em></p>
<p>:   Returns the index of the character just after the last one in the
    word containing character <em>charIndex</em> of <em>string</em>. <em>charIndex</em> may
    be specified using the forms in <strong>STRING INDICES</strong>. A word is
    considered to be any contiguous range of alphanumeric (Unicode
    letters or decimal digits) or underscore (Unicode connector
    punctuation) characters, or any single character other than these.</p>
<p><strong>string wordstart </strong><em>string charIndex</em></p>
<p>:   Returns the index of the first character in the word containing
    character <em>charIndex</em> of <em>string</em>. <em>charIndex</em> may be specified
    using the forms in <strong>STRING INDICES</strong>. A word is considered to be
    any contiguous range of alphanumeric (Unicode letters or decimal
    digits) or underscore (Unicode connector punctuation) characters, or
    any single character other than these.</p>
<h1 id="string-indices">STRING INDICES</h1>
<p>When referring to indices into a string (e.g., for <strong>string index</strong> or
<strong>string range</strong>) the following formats are supported:</p>
<p>integer</p>
<p>:   For any index value that passes <strong>string is integer -strict</strong>, the
    char specified at this integral index (e.g., <strong>2</strong> would refer to
    the</p>
<p>in</p>
<p>end</p>
<p>:   The last char of the string (e.g., <strong>end</strong> would refer to the</p>
<p>in</p>
<p>end-N</p>
<p>:   The last char of the string minus the specified integer offset <em>N</em>
    (e.g.,</p>
<p>would refer to the</p>
<p>in</p>
<p>end+N</p>
<p>:   The last char of the string plus the specified integer offset <em>N</em>
    (e.g.,</p>
<p>would refer to the</p>
<p>in</p>
<p>M+N</p>
<p>:   The char specified at the integral index that is the sum of integer
    values <em>M</em> and <em>N</em> (e.g.,</p>
<p>would refer to the</p>
<p>in</p>
<p>M-N</p>
<p>:   The char specified at the integral index that is the difference of
    integer values <em>M</em> and <em>N</em> (e.g.,</p>
<p>would refer to the</p>
<p>in</p>
<p>In the specifications above, the integer value <em>M</em> contains no trailing
whitespace and the integer value <em>N</em> contains no leading whitespace.</p>
<h1 id="example">EXAMPLE</h1>
<p>Test if the string in the variable <em>string</em> is a proper non-empty prefix
of the string <strong>foobar</strong>.</p>
<p>set length [<strong>string length</strong> \$string] if {\$length == 0} { set
isPrefix 0 } else { set isPrefix [<strong>string equal</strong> -length \$length
\$string \"foobar\"] }</p>
<h1 id="see-also">SEE ALSO</h1>
<p>expr(n), list(n)</p>
<h1 id="keywords">KEYWORDS</h1>
<p>case conversion, compare, index, integer value, match, pattern, string,
word, equal, ctype, character, reverse</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://www.tcl.tk/man/tcl8.6.13/TclCmd/contents.html/unknown/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>NAME - Tcl/Tk</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "NAME";
        var mkdocs_page_input_path = "unknown.md";
        var mkdocs_page_url = "/man/tcl8.6.13/TclCmd/contents.html/unknown/";
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Tcl/Tk
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../command.md">Commands</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Tcl/Tk</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
      <li>NAME</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="name">NAME</h1>
<p>unknown - Handle attempts to use non-existent commands</p>
<h1 id="synopsis">SYNOPSIS</h1>
<p><strong>unknown </strong><em>cmdName </em>?<em>arg arg ...</em>?</p>
<h1 id="description">DESCRIPTION</h1>
<p>This command is invoked by the Tcl interpreter whenever a script tries
to invoke a command that does not exist. The default implementation of
<strong>unknown</strong> is a library procedure defined when Tcl initializes an
interpreter. You can override the default <strong>unknown</strong> to change its
functionality, or you can register a new handler for individual
namespaces using the <strong>namespace unknown</strong> command. Note that there is
no default implementation of <strong>unknown</strong> in a safe interpreter.</p>
<p>If the Tcl interpreter encounters a command name for which there is not
a defined command (in either the current namespace, or the global
namespace), then Tcl checks for the existence of an unknown handler for
the current namespace. By default, this handler is a command named
<strong>::unknown</strong>. If there is no such command, then the interpreter returns
an error. If the <strong>unknown</strong> command exists (or a new handler has been
registered for the current namespace), then it is invoked with arguments
consisting of the fully-substituted name and arguments for the original
non-existent command. The <strong>unknown</strong> command typically does things like
searching through library directories for a command procedure with the
name <em>cmdName</em>, or expanding abbreviated command names to full-length,
or automatically executing unknown commands as sub-processes. In some
cases (such as expanding abbreviations) <strong>unknown</strong> will change the
original command slightly and then (re-)execute it. The result of the
<strong>unknown</strong> command is used as the result for the original non-existent
command.</p>
<p>The default implementation of <strong>unknown</strong> behaves as follows. It first
calls the <strong>auto_load</strong> library procedure to load the command. If this
succeeds, then it executes the original command with its original
arguments. If the auto-load fails then <strong>unknown</strong> calls <strong>auto_execok</strong>
to see if there is an executable file by the name <em>cmd</em>. If so, it
invokes the Tcl <strong>exec</strong> command with <em>cmd</em> and all the <em>args</em> as
arguments. If <em>cmd</em> cannot be auto-executed, <strong>unknown</strong> checks to see
if the command was invoked at top-level and outside of any script. If
so, then <strong>unknown</strong> takes two additional steps. First, it sees if <em>cmd</em>
has one of the following three forms: <strong>!!</strong>, <strong>!</strong><em>event</em>, or
<strong>\^</strong><em>old</em><strong>\^</strong><em>new</em>?<strong>\^</strong>?. If so, then <strong>unknown</strong> carries out
history substitution in the same way that <strong>csh</strong> would for these
constructs. Finally, <strong>unknown</strong> checks to see if <em>cmd</em> is a unique
abbreviation for an existing Tcl command. If so, it expands the command
name and executes the command with the original arguments. If none of
the above efforts has been able to execute the command, <strong>unknown</strong>
generates an error return. If the global variable <strong>auto_noload</strong> is
defined, then the auto-load step is skipped. If the global variable
<strong>auto_noexec</strong> is defined then the auto-exec step is skipped. Under
normal circumstances the return value from <strong>unknown</strong> is the return
value from the command that was eventually executed.</p>
<h1 id="example">EXAMPLE</h1>
<p>Arrange for the <strong>unknown</strong> command to have its standard behavior except
for first logging the fact that a command was not found:</p>
<p># Save the original one so we can chain to it rename <strong>unknown</strong>
_original_unknown</p>
<p># Provide our own implementation proc <strong>unknown</strong> args { puts stderr
\"WARNING: unknown command: \$args\" uplevel 1 [list _original_unknown
{*}\$args] }</p>
<h1 id="see-also">SEE ALSO</h1>
<p>info(n), proc(n), interp(n), library(n), namespace(n)</p>
<h1 id="keywords">KEYWORDS</h1>
<p>error, non-existent command, unknown</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>

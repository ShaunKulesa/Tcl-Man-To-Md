<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://www.tcl.tk/man/tcl8.6.13/TclCmd/contents.html/SetResult/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>NAME - Tcl/Tk</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "NAME";
        var mkdocs_page_input_path = "SetResult.md";
        var mkdocs_page_url = "/man/tcl8.6.13/TclCmd/contents.html/SetResult/";
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Tcl/Tk
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../command.md">Commands</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Tcl/Tk</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
      <li>NAME</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="name">NAME</h1>
<p>Tcl_SetObjResult, Tcl_GetObjResult, Tcl_SetResult, Tcl_GetStringResult,
Tcl_AppendResult, Tcl_AppendElement, Tcl_ResetResult,
Tcl_TransferResult - manipulate Tcl result</p>
<h1 id="synopsis">SYNOPSIS</h1>
<pre><code>#include &lt;tcl.h&gt;

Tcl_SetObjResult(interp, objPtr)

Tcl_Obj *
Tcl_GetObjResult(interp)

Tcl_SetResult(interp, result, freeProc)

const char *
Tcl_GetStringResult(interp)

Tcl_AppendResult(interp, result, result, ... , (char *) NULL)

Tcl_ResetResult(interp)

Tcl_TransferResult(sourceInterp, code, targetInterp)

Tcl_AppendElement(interp, element)
</code></pre>
<h1 id="arguments">ARGUMENTS</h1>
<p>The interpreter get or set the result for.</p>
<p>A value to set the result to.</p>
<p>The string value set the result to, or to append to the existing result.</p>
<p>The string value to append as a list element to the existing result of
<em>interp</em>.</p>
<p>Pointer to a procedure to call to release storage at <em>result</em>.</p>
<p>The interpreter to transfer the result and return options from.</p>
<p>The interpreter to transfer the result and return options to.</p>
<p>Return code value that controls transfer of return options.</p>
<h1 id="description">DESCRIPTION</h1>
<p>These procedures manipulate the result of an interpreter. Some
procedures provide a Tcl_Obj interface while others provide a string
interface. For example, <strong>Tcl_SetObjResult</strong> accepts a Tcl_Obj and
<strong>Tcl_SetResult</strong> accepts a char *. Similarly, <strong>Tcl_GetObjResult</strong>
produces a Tcl_Obj * and <strong>Tcl_GetStringResult</strong> produces a char *.
The procedures can be mixed and matched. For example, if
<strong>Tcl_SetObjResult</strong> is called to set the result to a Tcl_Obj value, and
then <strong>Tcl_GetStringResult</strong> is called, it returns a char * (but see
caveats below).</p>
<p><strong>Tcl_SetObjResult</strong> sets <em>objPtr</em> as the result for <em>interp</em>, replacing
any existing result.</p>
<p><strong>Tcl_GetObjResult</strong> returns the result for <em>interp</em>, without
incrementing its reference count.</p>
<p><strong>Tcl_SetResult</strong> sets <em>result</em> as the result for <em>interp</em>, replacing
any existing result, and calls <em>freeProc</em> to free <em>result</em>. See <strong>THE</strong>
TCL_FREEPROC ARGUMENT TO TCL_SETRESULT below. If <em>result</em> is <strong>NULL</strong>,
ignores <em>freeProc</em> and sets the result for <em>interp</em> to point to the
empty string.</p>
<p><strong>Tcl_GetStringResult</strong> returns the result for <em>interp</em> as a string,
i.e. the bytes of the Tcl_Obj for the result, which can be decoded using
<strong>Tcl_UtfToExternal</strong>. This value is freed when its corresponding
Tcl_Obj is freed.Programmers are encouraged to use the newer Tcl_Obj API
procedures, e.g. to call <strong>Tcl_GetObjResult</strong> instead.</p>
<p><strong>Tcl_ResetResult</strong> sets the empty string as the result for <em>interp</em> and
clears the error state managed by <strong>Tcl_AddErrorInfo</strong>,
<strong>Tcl_AddObjErrorInfo</strong>, and <strong>Tcl_SetErrorCode</strong>.</p>
<p><strong>Tcl_AppendResult</strong> builds up a result from smaller pieces, appending
each <em>result</em> in order to the current result for <em>interp</em>. It may be
called repeatedly as additional pieces of the result are produced, and
manages the storage for the <em>interp</em>\'s result, allocating a larger
result area if necessary. It also manages conversion to and from the
<em>result</em> field of the <em>interp</em> to handle backward-compatibility with
old-style extensions. Any number of <em>result</em> arguments may be passed in
a single call; the last argument in the list must be a NULL pointer.</p>
<p><strong>Tcl_TransferResult</strong> transfers interpreter state from <em>sourceInterp</em>
to <em>targetInterp</em>, both of which must have been created in the same
thread, resets the result in <em>sourceInterp</em>, and moves the return
options dictionary as controlled by the return code value <em>code</em> in the
same manner as <strong>Tcl_GetReturnOptions</strong>.</p>
<p>If <em>sourceInterp</em> and <em>targetInterp</em> are the same, nothing is done.</p>
<h1 id="deprecated-interfaces">DEPRECATED INTERFACES</h1>
<h2 id="old-string-procedures">OLD STRING PROCEDURES</h2>
<p>The following procedures are deprecated since they manipulate the Tcl
result as a string. Procedures such as <strong>Tcl_SetObjResult</strong> can be
significantly more efficient.</p>
<p><strong>Tcl_AppendElement</strong> is like <strong>Tcl_AppendResult</strong>, but it appends only
one piece, and also appends that piece as a list item.
<strong>Tcl_AppendElement</strong> adds backslashes or braces as necessary to ensure
that <em>element</em> is properly formatted as a list item. Under normal
conditions, <strong>Tcl_AppendElement</strong> adds a space character to <em>interp</em>\'s
result just before adding the new list element, so that the list
elements in the result are properly separated. However if the new list
element is the first item in the list or sublist (i.e. <em>interp</em>\'s
current result is empty, or consists of the single character</p>
<p>or ends in the characters</p>
<p>then no space is added.</p>
<h1 id="the-tcl_freeproc-argument-to-tcl_setresult">THE TCL_FREEPROC ARGUMENT TO TCL_SETRESULT</h1>
<p><em>FreeProc</em> has the following type:</p>
<p>typedef void <strong>Tcl_FreeProc</strong>( char *<em>blockPtr</em>);</p>
<p>When <em>freeProc</em> is called, <em>blockPtr</em> is the <em>result</em> value passed to
<strong>Tcl_SetResult</strong>.</p>
<h1 id="see-also">SEE ALSO</h1>
<p>Tcl_AddErrorInfo, Tcl_CreateObjCommand, Tcl_SetErrorCode, Tcl_Interp,
Tcl_GetReturnOptions</p>
<h1 id="keywords">KEYWORDS</h1>
<p>append, command, element, list, value, result, return value, interpreter</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
